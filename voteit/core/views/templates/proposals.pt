<tal:main xmlns:i18n="http://xml.zope.org/namespaces/i18n" i18n:domain="voteit.core">

<tal:iterate condition="proposals" repeat="proposal proposals" >
    <div tal:define="unread api.is_unread(proposal, True)"
         tal:attributes="class unread and 'unread listing_block' or 'listing_block'">
        <tal:creators tal:replace="structure api.get_creators_info(proposal.creators, request)">Creators</tal:creators>
        <span i18n:translate="">propose</span>:
        <span class="body" tal:content="structure proposal.title">Title</span>
        
        <div tal:define="state_id proposal.get_workflow_state()">
            <span i18n:translate="">State</span>:
            <strong tal:attributes="class 'wf-state-%s' % state_id"
                    tal:content="api.translate(proposal.current_state_title(request))">private</strong>
        </div>

        <div class="meta">
	        <span tal:condition="api.show_moderator_actions" tal:replace="structure api.get_moderator_actions(proposal, request)">
	             Cogwheel menu
	        </span>
	
	        <span class="time" tal:content="api.get_time_created(proposal)"></span>
			
	        <span class="expressions" tal:content="structure api.expressions.get_expressions(proposal, 'like', api.userid, like, like_this)"></span>
		</div>
		
        <div class="clear"><!-- --></div>
    </div>
    
</tal:iterate>
</tal:main>