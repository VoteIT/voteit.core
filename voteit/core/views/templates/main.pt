<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      metal:define-macro="master">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	    <metal:page_title define-slot="page_title">
		   <title>Application</title>
	    </metal:page_title>
	<meta name="keywords" content="python web application" />
	<meta name="description" content="pyramid web application" />
	
    <link href="${request.application_url}/static/reset.css" rel="stylesheet" type="text/css" />
    <link href="${request.application_url}/static/main.css" rel="stylesheet" type="text/css" />
	
	<metal:head define-slot="head"></metal:head>

</head>
<body>

    <div id="navigation"><metal:nav metal:use-macro="api.navigation.macros['navigation']">Navigation</metal:nav></div>

    <div id="main_window">
	    <div id="path_bar" tal:condition="not form|True">
	    	<div class="content_wrapper">
	        <tal:iterate repeat="obj api.reversed_lineage">
	            &raquo;
	            <a tal:attributes="href api.resource_url(obj, request);"
	               tal:content="obj.get_field_value('title')">Title</a>
	        </tal:iterate>
			</div>
	    </div>

        <div id="content_controls" tal:condition="not form|True">
			<div class="content_wrapper">
                <div tal:replace="structure api.get_action_bar(context, request)">Action bar</div>
			</div>
		</div>
	
	    <div id="main">
	    	
			<div class="content_wrapper">
	    	
				<div id="context_obj" tal:condition="not form|True">
		            <h3 tal:content="context.get_field_value('title')">Title</h3>
		            <div tal:content="context.get_field_value('description')">Description</div>
				</div>
		    </div>
			<div class="content_wrapper">
				<div id="content" metal:define-slot="content"></div>
		    </div>
			<div class="content_wrapper">
		        <div tal:condition="form|False" tal:replace="structure form">Form</div>
		
		        <!--
			    <div id="listing" metal:define-slot="listing">
			        <div tal:condition="show_content_listing|False" tal:repeat="obj context.values()">
			            <a tal:attributes="href api.resource_url(obj, request)">
		                    <h3 tal:content="obj.get_field_value('title')">Title</h3>
						    <div tal:content="obj.get_field_value('description')">Description</div>
			            </a>
			        </div>
			    </div>
				-->
			</div>
	
		</div>
	</div>

</body>
</html>
