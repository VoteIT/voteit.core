<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      metal:define-macro="master"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="voteit.core">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <metal:page_title define-slot="page_title">
           <title>VoteIT</title>
        </metal:page_title>
    <meta name="keywords" content="python web application" />
    <meta name="description" content="pyramid web application" />    
    <script type="text/javascript" tal:condition="api.init_deform">
    	deform.load()
	</script>
    <metal:head define-slot="head"></metal:head>
</head>
<body>
    <div id="page_wrapper">
        <div id="main-content-wrapper">
        <div id="header">
             <div id="global-actions"
			      tal:content="structure api.render_single_view_component(context, request, 'main', 'global_actions')">
                Global actions toolbar - like login, profile etc
            </div>

            <div id="meeting-actions"
			     tal:content="structure api.render_single_view_component(context, request, 'main', 'meeting_actions')">
                Meeting actions - like who's in a meeting, search etc
            </div>

            <div id="logo-meeting-wrapper">
                <a id="logo-space"
                   tal:attributes="href api.resource_url(api.root, request)">
                    <img tal:replace="structure api.render_single_view_component(context, request, 'main', 'logo_tag')" />
                </a>
                
                <h1 id="meeting-name-space" tal:condition="api.meeting">
                    <a tal:attributes="href api.resource_url(api.meeting, request)" tal:content="api.meeting.title">Meeting</a>
                </h1>
            </div>

        </div>

        <div id="rightcol-wrapper"><div id="leftcol-wrapper">
        <div id="navigation" tal:content="structure api.render_single_view_component(context, request, 'main', 'navigation')">
            Meeting Navigation
        </div>

        <div id="main_window">
            <div id="top">
                <div class="content_wrapper">

                    <div id="notify-meetingstate" class="content_wrapper" tal:condition="api.meeting_state">
                        <tal:upcoming condition="api.meeting_state == 'upcoming'">
                            <span class="message" i18n:translate="">This meeting hasn't started yet.</span>
                        </tal:upcoming>
                        <tal:closed condition="api.meeting_state == 'closed'">
                            <span class="message" i18n:translate="">This meeting has closed.</span>
                        </tal:closed>
                    </div>

                    <tal:messages replace="structure api.flash_messages()">Messages</tal:messages>

                    <div metal:define-slot="page_heading"
                         id="page_heading"
                         tal:condition="not form|True">

                        <span metal:define-slot="action_menu"
                             tal:condition="not form|api.context_has_permission('Moderate Meeting', context)"
                             tal:content="structure api.get_moderator_actions(context, request)">Cogwheel menu</span>

                        <h2 tal:content="context.title">Title</h2>

                    </div> <!-- page_heading -->
                    <div id="top_content" metal:define-slot="top_content" tal:condition="not form|True"></div>
                </div> <!-- content_wrapper -->
            </div> <!-- top -->

            <div id="content" class="col-50-50" metal:define-slot="content" tal:condition="not form|True">
                <div id="left" class="column column-1">
                    <div class="content_wrapper">
                       <metal:left define-slot="left"></metal:left>
                    </div>
                </div> <!-- left column-->
                
                <div id="right" class="column column-2">
                    <div class="content_wrapper">
                       <metal:right define-slot="right"></metal:right>
                    </div>
                </div> <!-- right column-->
            </div> <!-- content -->

            <div metal:define-slot="form" tal:condition="form|False" class="content_wrapper" tal:content="structure form">Form</div>
            
        </div> <!-- main_window -->
        
        </div></div><!-- wrappers -->
        
        
        <div class="clear"></div>
		</div><!-- main-content-wrapper -->
		<div id="footer">
			<a href="http://www.voteit.se">www.voteit.se</a>
			&mdash;
			<a href="http://wiki.voteit.se">Wiki</a>
			<br/>

			<div id="footer-logos"></div>
        </div>
    </div> <!-- page_wrapper -->
	<div class="voteit_js_translation" style="display: none !important;">
       <pre class="js_trans_yes" i18n:translate="">Yes</pre>
       <pre class="js_trans_no" i18n:translate="">No</pre>
       <pre class="js_trans_close" i18n:translate="">Close</pre>
       <pre class="js_trans_confirm_title" i18n:translate="">Please confirm</pre>
       <pre class="js_trans_yes_confirm_state" i18n:translate="">Are you sure you want to change the state?</pre>
       <pre class="js_trans_yes_confirm_retract" i18n:translate="">Are you sure you want to retract this proposal?</pre>
       <pre class="js_trans_yes_user_info" i18n:translate="">About...</pre>
       <pre class="js_trans_yes_more_tag_list" i18n:translate="">More...</pre>
       <pre class="js_trans_yes_loading" i18n:translate="">Loading...</pre>
	</div>

</body>
</html>
