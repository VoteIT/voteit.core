<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      metal:define-macro="master"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="voteit.core">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <metal:page_title define-slot="page_title">
           <title>VoteIT</title>
        </metal:page_title>
    <meta name="keywords" content="python web application" />
    <meta name="description" content="pyramid web application" />
    
    <link href="${request.application_url}/static/reset.css" rel="stylesheet" type="text/css" />
    <link href="${request.application_url}/static/main.css" rel="stylesheet" type="text/css" />
    <link href="${request.application_url}/static/jquery.rating.css" rel="stylesheet" type="text/css" />
    <link href="${request.application_url}/static/smoothness/jquery-ui-1.8.16.custom.css" rel="stylesheet" type="text/css" />

    <script type="text/javascript" src="${request.application_url}/config.js"></script>
    <script type="text/javascript" src="${request.application_url}/deform/scripts/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="${request.application_url}/static/jquery-ui-1.8.15.custom.min.js"></script>
    <script type="text/javascript" src="${request.application_url}/static/jquery.rating.js"></script>
    <script type="text/javascript" src="${request.application_url}/static/ajax.js"></script>
    <script type="text/javascript" src="${request.application_url}/static/jquery.qtip.js"></script>
    <script type="text/javascript" src="${request.application_url}/static/jquery.easy-confirm-dialog.js"></script>
    <script type="text/javascript" src="${request.application_url}/static/jquery.cookie.js"></script>

    <tal:deform tal:condition="form_resources|False">
    <tal:css repeat="css_file form_resources['css']|[]">
    <link rel="stylesheet"
          tal:attributes="href string:/deform/${css_file}" type="text/css" />
    </tal:css>
    <script type="text/javascript" src="${request.application_url}/deform/scripts/deform.js"></script>
    <script type="text/javascript" src="${request.application_url}/deform/scripts/jquery-ui-timepicker-addon.js"></script>
    <script type="text/javascript" src="${request.application_url}/deform/scripts/jquery.form.js"></script>
    <script type="text/javascript" src="${request.application_url}/deform/scripts/jquery.maskedinput-1.2.2.min.js"></script>
    <script type="text/javascript">
        deform.load()
    </script>
    </tal:deform>

    <metal:head define-slot="head"></metal:head>
    
</head>
<body>
    <div id="page_wrapper">

        <div id="header">
             <div id="global-actions" tal:content="structure api.get_global_actions(context, request)">
                Global actions toolbar - like login, profile etc
            </div>

            <div id="meeting-actions" tal:content="structure api.get_meeting_actions(context, request)">
	            Meeting actions - like who's in a meeting, search etc
			</div>

            <div id="logo-meeting-wrapper">
                <a id="logo-space"
                   tal:attributes="href api.logo_link()">
                    <img tal:replace="structure api.logo_image_tag()" />
                </a>
                
                <h1 id="meeting-name-space" tal:condition="api.meeting">
                    <a tal:attributes="href api.resource_url(api.meeting, request)" tal:content="api.meeting.title">Meeting</a>
                </h1>
            </div>

		</div>

        <div id="rightcol-wrapper"><div id="leftcol-wrapper">
        <div id="navigation">
            <div tal:replace="structure api.get_navigation()">Navigation</div>
        </div>

        <div id="main_window">
            <div id="top">
                <div class="content_wrapper">

                    <tal:messages replace="structure api.flash_messages()">Messages</tal:messages>

                    <div metal:define-slot="page_heading"
                         id="page_heading"
                         tal:condition="not form|True">
                        <h2 tal:content="context.title">Title</h2>
                    
                        <div tal:replace="structure api.get_time_info(context, request)">start time and end time macro</div>

	                    <span metal:define-slot="action_menu"
	                         tal:condition="not form|api.context_has_permission('Moderate Meeting', context)"
	                         tal:content="structure api.get_moderator_actions(context, request)">Cogwheel menu</span>
						 
                        <tal:state define="state_id context.get_workflow_state()|False">
                            <span tal:condition="state_id">
                                <span i18n:translate="">State</span>:
					            <strong tal:attributes="class 'wf-state-%s' % state_id"
					                    tal:content="api.translate(context.current_state_title(request))">private</strong>

                            </span>
                        </tal:state>

                    </div> <!-- page_heading -->
                    <div id="top_content" metal:define-slot="top_content" tal:condition="not form|True"></div>
                </div> <!-- content_wrapper -->
            </div> <!-- top -->

            <div id="content" metal:define-slot="content">
                <div id="left" class="column" tal:condition="not form|True">
                    <div class="content_wrapper">
                        <div class="description" tal:condition="context.description" tal:content="structure api.nl2br(context.description)">Description</div>
                        <div id="content" metal:define-slot="left_content"></div>
                    </div>
                </div> <!-- left column-->
                
                <div id="right" class="column" tal:condition="not form|True">
                    <div class="content_wrapper">
                        <div id="content" metal:define-slot="right_content"></div>
                    </div>
                </div> <!-- right column-->
            </div> <!-- content -->

            <div metal:define-slot="form" tal:condition="form|False" class="content_wrapper" tal:content="structure form">Form</div>
            
        </div> <!-- main_window -->
		
		</div></div><!-- wrappers -->
		
		
        <div class="clear"></div>
    </div> <!-- page_wrapper -->

</body>
</html>
