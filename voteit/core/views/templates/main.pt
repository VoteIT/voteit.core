<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      metal:define-macro="master">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	    <metal:page_title define-slot="page_title">
		   <title>VoteIT</title>
	    </metal:page_title>
	<meta name="keywords" content="python web application" />
	<meta name="description" content="pyramid web application" />
	
    <link href="${request.application_url}/static/reset.css" rel="stylesheet" type="text/css" />
    <link href="${request.application_url}/static/main.css" rel="stylesheet" type="text/css" />
    <link href="${request.application_url}/static/jquery.rating.css" rel="stylesheet" type="text/css" />
    <link href="${request.application_url}/static/ui-lightness/jquery-ui-1.8.15.custom.css" rel="stylesheet" type="text/css" />
	<tal:deform tal:condition="form_resources|False">
    <tal:css repeat="css_file form_resources['css']|[]">
    <link rel="stylesheet"
          tal:attributes="href string:/deform/${css_file}" type="text/css" />
    </tal:css>
    <tal:js repeat="js_file form_resources['js']|[]">
    <script type="text/javascript"
            tal:attributes="src string:/deform/${js_file}"></script>
    </tal:js>
    <script type="text/javascript">
        deform.load()
    </script>
    </tal:deform>
    <tal:notdeform tal:condition="not form_resources|True">
    <script type="text/javascript" src="${request.application_url}/deform/scripts/jquery-1.4.2.min.js"></script>
    </tal:notdeform>
    <script type="text/javascript" src="${request.application_url}/static/jquery.rating.js"></script>
	<script type="text/javascript" src="${request.application_url}/static/ajax.js"></script>
	<script type="text/javascript" src="${request.application_url}/static/jquery.qtip.js"></script>
	<script type="text/javascript" src="${request.application_url}/static/jquery.easy-confirm-dialog.js"></script>

	<metal:head define-slot="head"></metal:head>
	
</head>
<body>
	
	<div id="page_wrapper">
    <metal:toolbar metal:use-macro="api.profile_toolbar.macros['profile_toolbar']">Profile toolbar</metal:toolbar>

    <div id="navigation"><metal:nav metal:use-macro="api.navigation.macros['navigation']">Navigation</metal:nav></div>

    <div id="main_window">
    	
	    <div id="path_bar" tal:condition="not form|True">
	    	<div class="content_wrapper">
	        <tal:iterate repeat="obj api.reversed_lineage">
	            &raquo;
	            <a tal:attributes="href api.resource_url(obj, request);"
	               tal:content="obj.title">Title</a>
	        </tal:iterate>
			</div>
	    </div>

	    <div id="main">
	    	
			<tal:messages replace="structure api.flash_messages()">Messages</tal:messages>
	    	
			<div class="content_wrapper">
                <div metal:define-slot="action_bar"
				     tal:condition="not form|True"
					 tal:content="structure api.get_action_bar(context, request)">Action bar</div>
		        <div metal:define-slot="page_heading"
                     id="page_heading"
			         tal:condition="not form|True">
		            <h3 tal:content="context.title">Title</h3>
					
					<div tal:replace="structure api.get_time_info(context, request)">start time and end time macro</div>

                    <tal:state define="state_id context.get_workflow_state()|False">
                    	<div tal:condition="state_id">
	                        <span>State:</span>
	                        <strong tal:attributes="class 'wf-state-%s' % state_id"
	                              tal:content="state_id">private</strong>
						</div>
                    </tal:state>

		            <div class="column">
                        <tal:creators tal:replace="structure api.get_creators_info(context.creators, request)">Creators</tal:creators>
                        <div tal:condition="context.description" tal:content="structure api.nl2br(context.description)">Description</div>
                    </div>
                </div>
                <div metal:define-slot="page_info"
                     id="page_info"
	                 tal:condition="not form|True"
                     class="column"></div>
	        </div>
	        
	        <div style="clear: both"></div>
			
			<div class="content_wrapper">
				<div id="content" metal:define-slot="content"></div>
		    </div>
			
			<div metal:define-slot="form" tal:condition="form|False" class="content_wrapper" tal:content="structure form">Form</div>
	
		</div>
	</div>
	<div class="clear"></div>
	</div>

</body>
</html>
