<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      metal:define-macro="master"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="voteit.core">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="python web application" />
    <meta name="description" content="pyramid web application" />
    <tal:head tal:content="structure api.render_view_group(context, request, 'head')"></tal:head>
    <metal:head define-slot="head"></metal:head>
</head>
<body>
    <div id="header-global-outer">
        <div class="wrapper">
            <div class="section">
                <div id="header-meeting-title">
                    <h1>
                        <span tal:condition="not api.meeting">VoteIT</span>
                        <a tal:condition="api.meeting"
                           tal:attributes="href request.resource_url(api.meeting)" tal:content="api.meeting.title">Meeting title</a>
                    </h1>
                </div>
                <div id="header-user-actions">
                    <tal:menu replace="structure api.render_single_view_component(context, request, 'main', 'global_actions')">
                         Global actions toolbar - like login, profile etc
                    </tal:menu>
                </div>
                <div id="header-logo">
                    <a tal:attributes="href request.resource_url(api.root)">
                        <img tal:replace="structure api.render_single_view_component(context, request, 'main', 'logo_tag')" />
                    </a>
                </div>
            </div>
        </div>
        <div class="clear"><!-- Push down in case of large heading --></div>
    </div>
    <div id="header-meeting-outer">
        <div class="wrapper">
            <div class="section">
                <div id="meeting-actions">
                    <tal:menu tal:content="structure api.render_single_view_component(context, request, 'main', 'meeting_actions')">
                    Meeting actions - like who's in a meeting, search etc
                    </tal:menu>
                </div>
                <tal:search tal:replace="structure api.render_single_view_component(context, request, 'main', 'search')">search</tal:search>
            </div>
        </div>
    </div>
    <div id="main-outer">
        <div class="wrapper">
            <div class="section">
                <div id="sidebar" tal:content="structure api.render_view_group(context, request, 'sidebar')">
                    Sidebar, navigation / login etc
                </div>
                <div id="main">
                    <tal:messages replace="structure api.render_single_view_component(context, request, 'main', 'flash_messages')">Messages</tal:messages>
                    <div metal:define-slot="main_window"></div>
                </div>
            </div>
        </div>
    </div>
    <div id="footer-outer">
        <div class="wrapper">
            <div class="section">
                <div id="footer">
                    <a href="http://www.voteit.se">www.voteit.se</a>
                    &mdash;
                    <a href="http://wiki.voteit.se">Wiki</a>
                    <br/>
                    <div id="footer-logos"></div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="${request.application_url}/translations.js"></script>
	<div id="js_config" style="display: none !important;">
		<a name="current_url" href="${api.resource_url(context, request)}"></a>
		<a tal:condition="api.root" name="root_url" href="${api.resource_url(api.root, request)}"></a>
		<a tal:condition="api.meeting" name="meeting_url" href="${api.resource_url(api.meeting, request)}"></a>
	</div>
	<div id="mask"></div>
</body>
</html>
