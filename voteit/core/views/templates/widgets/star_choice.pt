<tal:main
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    i18n:domain="voteit.core">
<div class="deformSet starwidget"> 
    <input type="hidden" name="__start__" value="${field.name}:rename"/>
    <div class="meta" tal:content="field.widget.creator_info|''">Creator info</div>
    <tal:loop tal:repeat="choice field.widget.values">
        <input tal:attributes="checked choice[0] == cstruct;
                             class string:${field.widget.css_class} star"
             type="radio"
             name="${field.oid}"
             value="${choice[0]}"
             id="${field.oid}-${repeat.choice.index}"/>
    </tal:loop>
    <input type="hidden" name="__end__"/>
    <div class="clear"><!-- --></div>
</div>
<script type="text/javascript">
    if(deform) {
        deform.addCallback('${field.oid}', function(oid) {
            $('#'+oid).find('input.star').rating();
        });
    }
</script>
</tal:main>
