<tal:main 
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    i18n:domain="voteit.core">

<div class="poll_state_info">
    <div class="wf_state">
        <span class="iconpadding icon ${wf_state}">
        ${api.tstring(wf_state.title())}
        </span>
    </div>
    <div tal:condition="wf_state not in ('ongoing', )" class="iconpadding icon time start" 
         tal:define="start_time request.dt_handler.format_relative(poll.start_time)">
        <span tal:condition="wf_state in ('private', 'upcoming', )"
            i18n:translate="">
            The poll starts <span tal:replace="start_time" i18n:name="start_time" />
        </span>
        <span tal:condition="wf_state in ('ongoing', 'closed', 'canceled')"
            i18n:translate="">
            The poll started <span tal:replace="start_time" i18n:name="start_time" />
        </span>
    </div>
    <div class="iconpadding icon time end"
         tal:define="end_time request.dt_handler.format_relative(poll.end_time)">
        <span tal:condition="wf_state in ('private', 'upcoming', 'ongoing', )"
              i18n:translate="">
              The poll closes <span tal:replace="end_time" i18n:name="end_time" />
          </span>
        <span tal:condition="wf_state in ('closed', 'canceled')"
            i18n:translate="">
            The poll closed <span tal:replace="end_time" i18n:name="end_time" />
        </span>
    </div>
    <div class="clear"><!-- --></div>
</div>

</tal:main>
